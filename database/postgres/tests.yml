CreateTable:
  compare_with_generic_parser: true
  sql: |
    CREATE TABLE bigdata (
      data bigint
    );
CreateTableWithSchema:
  compare_with_generic_parser: true
  sql: |
    CREATE TABLE public.bigdata (
      data bigint
    );
CreateTableWithNotNull:
  sql: |
    CREATE TABLE public.airline_confirmation (
      airline_id bigint,
      code character varying(512),
      booking_id bigint NOT NULL
    );
CreateTableWithDefault:
  compare_with_generic_parser: true
  sql: |
    CREATE TABLE bigdata (
      data integer default 1
    );
CreateTableWith_Default:
  compare_with_generic_parser: true
  sql: |
    CREATE TABLE users (
      profile character varying(50) NOT NULL DEFAULT ''::character varying,
      default_int int default 20,
      default_bool bool default true,
      default_numeric numeric(5) default 42.195,
      default_fixed_char character(3) default 'JPN'::bpchar,
      default_text text default ''::text,
      default_json json default '[]'::json,
      default_jsonb jsonb default '[]'::jsonb,
      default_current_timestamp timestamp default CURRENT_TIMESTAMP,
      default_current_date date default CURRENT_DATE,
      default_current_time time default CURRENT_TIME,
      default_array_int int[] default '{}'::int[],
      joined_at timestamp with time zone NOT NULL DEFAULT '0001-01-01 00:00:00'::timestamp without time zone,
      created_at timestamp with time zone DEFAULT now()
    );
CreateView:
  compare_with_generic_parser: true
  sql: |
    create view hoge_view as
    select amount from hoge;
CreateViewWithCast:
  compare_with_generic_parser: true
  sql: |
    create view hoge_view as
    select amount::numeric(10,2) from hoge;
CreateViewWithFullColumn:
  sql: |
    CREATE VIEW public.hoge_view
    AS SELECT (hoge.amount)::numeric(10,2) AS amount_num FROM hoge;
CreateViewWithCaseWhen:
  sql: |
    create view hoge_view as
    select
      -- pattern 1
      amount::numeric(10,2) as amount_num1,
      -- pattern 2
      (
        jsonb_extract_path_text(payload, 'amount')
      )::numeric(10,2) as amount_num2,
      -- pattern 3
      (
        case hoge_type
          when 'hoge' then jsonb_extract_path_text(payload, 'hoge', 'amount')
        end
      )::numeric(10,2) as amount_num3,
      -- pattern 4
      (
        to_timestamp(
          jsonb_extract_path_text(payload, 'created')::bigint
        )
      ) as created,
      -- pattern 5
      (
        cast(
          to_timestamp(
            jsonb_extract_path_text(payload, 'created')::bigint
          ) as date
        )
      ) as created_date
    from hoge;
CreateIndex:
  compare_with_generic_parser: true
  sql: |
    CREATE INDEX username on users using btree (name asc);
CreateIndexWithFuncCall:
  sql: |
    CREATE UNIQUE INDEX airline_confirmation_code_unique_idx
    ON public.airline_confirmation
    USING btree (airline_id, booking_id, lower((code)::text))
    WHERE ((code IS NOT NULL) AND (airline_id IS NOT NULL));
CreateIndexConcurrently:
  sql: |
    CREATE INDEX CONCURRENTLY username on users (name);
AlterTableUnique:
  compare_with_generic_parser: true
  sql: |
    ALTER TABLE users ADD CONSTRAINT username UNIQUE (name, age);
AlterTableAddForeignKey:
  compare_with_generic_parser: true
  sql: |
    ALTER TABLE ONLY public.posts ADD CONSTRAINT posts_ibfk_1 FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE SET NULL ON UPDATE RESTRICT;
